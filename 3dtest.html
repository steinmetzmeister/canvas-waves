<style>
body { margin: 0px; padding: 0px; }
</style>

<div id="container"></div>

<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/three.js/r67/three.min.js"></script>
<script type="text/javascript">
var camera, scene, renderer;

var mats = [];
var meshes = [];
var speeds = [];

init();
animate();

function init() {

    renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById('container').appendChild(renderer.domElement);

    camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );

    scene = new THREE.Scene();

    mats.push(new THREE.MeshBasicMaterial({ color: 0xFF0000, wireframe: true }));
    mats.push(new THREE.MeshBasicMaterial({ color: "lightgreen", wireframe: true }))
    mats.push(new THREE.MeshBasicMaterial({ color: "lightblue", wireframe: true }));

    for (var i = 0; i < 3; i++)
    {
        speeds.push(Math.random() * 0.025);

        var j = Math.floor(Math.random() * (176 - 96)) + 96;
        var k = Math.floor(Math.random() * mats.length);
        var geo = new THREE.BoxGeometry(j, j, j);

        var mesh = new THREE.Mesh(geo, mats[k]);
        
        mesh.rotation.x = Math.random();
        mesh.rotation.y = Math.random();
        mesh.rotation.z = Math.random();

        meshes.push(mesh);

        scene.add(mesh);
    }

    window.addEventListener('resize', onWindowResize, false);

}

function onWindowResize() {

    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();

    renderer.setSize(window.innerWidth, window.innerHeight);

}

var angle = 0;
function animate() {

    camera.lookAt(new THREE.Vector3(0,0,0));

    angle += 0.01;

    camera.position.x = Math.sin(angle) * 256;
    camera.position.z = Math.cos(angle) * 256;

    camera.position.y = Math.sin(angle * 4) * 256;

    requestAnimationFrame( animate );

    for (var i = 0; i < meshes.length; i++)
    {
        meshes[i].rotation.x += speeds[i];
        meshes[i].rotation.y += speeds[i];
        meshes[i].material.color.setHex(Math.random() * 0xffffff);
    }

    renderer.render( scene, camera );

}
</script>
